---
// src/layouts/BlogPost.astro
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';
import BaseLayout from './BaseLayout.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<BaseLayout title={title} description={description}>
  <article class="min-h-[60vh] flex flex-col justify-center">
    {heroImage && (
      <div class="hero-image mb-8">
        <Image
          width={1020}
          height={510}
          src={heroImage}
          alt={title}
          class="w-full rounded-xl shadow-2xl object-cover"
        />
      </div>
    )}

    <div class="prose prose-lg md:prose-xl dark:prose-invert mx-auto max-w-3xl px-4 py-8">
      <header class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-bold mb-4 text-gray-900 dark:text-gray-100">
          {title}
        </h1>
        <div class="text-gray-600 dark:text-gray-400 space-y-2">
          <time><FormattedDate date={pubDate} /></time>
          {updatedDate && (
            <p class="italic">
              Last updated on <FormattedDate date={updatedDate} />
            </p>
          )}
        </div>
      </header>

      <hr class="my-10 border-gray-300 dark:border-gray-700" />

      <slot />
    </div>
  </article>

</BaseLayout>